"use strict";(self.webpackChunkmcp_ai=self.webpackChunkmcp_ai||[]).push([[3462],{6088:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>c});var t=i(8849),r=i(4848),s=i(8453);const a={title:"MCP Registry vs Gateway: Why Connect Authority Wins",description:"Explore the differences between MCP Registries and Gateways, and understand why a Connect Authority is the superior choice for enabling secure, scalable MCP connections without a gateway.",tags:["mcp","architecture","connect-authority"],keywords:["mcp","registry","gateway","connect authority","hapi","architecture","mcp-registry"],image:"/img/mcp-connect-authority/mcp-beyond-gateway.png"},l=void 0,o={authorsImageUrls:[]},c=[{value:"The Architectural Dilemma: MCP Registry vs Gateway",id:"the-architectural-dilemma-mcp-registry-vs-gateway",level:3},{value:"Why not a Gateway?",id:"why-not-a-gateway",level:2},{value:"Why not proxy MCP traffic?",id:"why-not-proxy-mcp-traffic",level:3},{value:"Control-Plane vs Data-Plane in MCP",id:"control-plane-vs-data-plane-in-mcp",level:2},{value:"A Registry is usually <strong>control-plane</strong>",id:"a-registry-is-usually-control-plane",level:3},{value:"A Gateway is usually <strong>data-plane</strong>",id:"a-gateway-is-usually-data-plane",level:3},{value:"Do you need an MCP Gateway?",id:"do-you-need-an-mcp-gateway",level:3},{value:"The key insight: connection authority \u2260 traffic proxy",id:"the-key-insight-connection-authority--traffic-proxy",level:2},{value:"The Registry as a connection resolver",id:"the-registry-as-a-connection-resolver",level:2},{value:"The Connect Descriptor (the &quot;boarding pass&quot;)",id:"the-connect-descriptor-the-boarding-pass",level:2},{value:"Think: <em>boarding pass</em>, not <em>passport</em>",id:"think-boarding-pass-not-passport",level:3},{value:"Why this extra client step matters (and why it&#39;s intentional)",id:"why-this-extra-client-step-matters-and-why-its-intentional",level:2},{value:"Old model (direct connect)",id:"old-model-direct-connect",level:3},{value:"New model (governed connect)",id:"new-model-governed-connect",level:3},{value:"Why streamable HTTP only changes everything",id:"why-streamable-http-only-changes-everything",level:2},{value:"Distributed enforcement MCP: why HAPI makes this viable",id:"distributed-enforcement-mcp-why-hapi-makes-this-viable",level:2},{value:"MCP Governance Without a Gateway",id:"mcp-governance-without-a-gateway",level:2},{value:"Making moderation runtime-effective",id:"making-moderation-runtime-effective",level:3},{value:"Stop issuing descriptors.",id:"stop-issuing-descriptors",level:3},{value:"Descriptor refresh (hard cutoff)",id:"descriptor-refresh-hard-cutoff",level:3},{value:"What this architecture avoids (by design)",id:"what-this-architecture-avoids-by-design",level:2},{value:"The full flow (putting it all together)",id:"the-full-flow-putting-it-all-together",level:2},{value:"Why this scales (technically and socially)",id:"why-this-scales-technically-and-socially",level:2},{value:"The final takeaway",id:"the-final-takeaway",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"https://registry.modelcontextprotocol.io",children:"MCP Registry"})," is designed as a centralized catalog and metadata service for MCP (Model Context Protocol) components. It provides discovery, verification, and governance capabilities for MCP clients and servers. The ",(0,r.jsx)(n.em,{children:"HAPI MCP Registry"})," does not proxy traffic; instead, it acts as a ",(0,r.jsx)(n.strong,{children:"mcp connection authority"}),", issuing short-lived ",(0,r.jsx)(n.strong,{children:"mcp connect descriptor"})," tokens that authorize clients to connect directly to MCP Servers."]}),"\n",(0,r.jsx)(n.h3,{id:"the-architectural-dilemma-mcp-registry-vs-gateway",children:"The Architectural Dilemma: MCP Registry vs Gateway"}),"\n",(0,r.jsxs)(n.p,{children:["At a high level, architects face a choice: treating the Registry as a control-plane for discovery and governance, or deploying a Gateway to sit on the data-plane and proxy traffic. This article argues for a ",(0,r.jsx)(n.strong,{children:"registry based mcp architecture"})," \u2014 one that provides robust ",(0,r.jsx)(n.strong,{children:"mcp connection governance"})," without the operational overhead of a gateway."]}),"\n",(0,r.jsxs)(n.p,{children:["We will explore ",(0,r.jsx)(n.strong,{children:"mcp gateway alternatives"})," such as connect-authority issuance and distributed enforcement, demonstrating why this ",(0,r.jsx)(n.strong,{children:"mcp connection authority"})," model is often the superior choice for scalable, secure AI systems."]}),"\n",(0,r.jsxs)(n.p,{children:["AI-native applications require scalable, secure, and manageable architectures. ",(0,r.jsx)(n.strong,{children:"Just as with microservices"}),", the same security and governance principles apply to MCP-based systems. Throughout MCP's brief yet rapid evolution, ",(0,r.jsx)(n.a,{href:"https://authzed.com/blog/timeline-mcp-breaches",children:"security breaches"})," and failures have taught us valuable lessons. In response, the MCP Registry was created, offering developers a dependable, community-driven platform to discover and share MCP servers, all while ensuring security and building trust."]}),"\n",(0,r.jsx)(n.p,{children:"What the official MCP Registry actually promises today:"}),"\n",(0,r.jsx)(n.p,{children:'The official MCP Registry was launched as an open catalog + REST API for discovery and standardized metadata, with moderation and namespace verification. It is explicitly positioned as a "single source of truth" that sub-registries build on.'}),"\n",(0,r.jsx)(n.p,{children:"Key constraints that matter for a gateway discussion:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"It's metadata, not package hosting."}),"\n",(0,r.jsx)(n.li,{children:"It's designed primarily for programmatic consumption by sub-registries, not end-users/clients directly (at least today)."}),"\n",(0,r.jsx)(n.li,{children:"Security scanning is delegated to package registries and/or sub-registries in the MVP."}),"\n",(0,r.jsx)(n.li,{children:'The API went into an "API freeze" period (v0.1), signaling stability, but it\'s still evolving toward GA.'}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The Registry can enable a gateway, but it's not trying to be one."}),"\n",(0,r.jsx)(n.h2,{id:"why-not-a-gateway",children:"Why not a Gateway?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:'"Can the MCP Registry become an MCP Gateway?"'})}),"\n",(0,r.jsx)(n.p,{children:"That question hides a deeper one:"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Can we get gateway-level control without turning the Registry into a fragile, high-risk data plane?"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The answer is ",(0,r.jsx)(n.strong,{children:"yes"})," \u2014 ",(0,r.jsx)(n.em,{children:"if we're precise about what a gateway actually is"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"why-not-proxy-mcp-traffic",children:"Why not proxy MCP traffic?"}),"\n",(0,r.jsxs)(n.p,{children:["Proxying MCP traffic creates a central data-plane that inspects or routes every session. That introduces latency, inspection risks, and operational complexity. A better approach for many deployments is to avoid proxying and rely on ",(0,r.jsx)(n.strong,{children:"mcp connect descriptor"})," issuance and server-side validation. This keeps the control plane (the Registry) strictly separate from the data plane."]}),"\n",(0,r.jsx)(n.h2,{id:"control-plane-vs-data-plane-in-mcp",children:"Control-Plane vs Data-Plane in MCP"}),"\n",(0,r.jsxs)(n.p,{children:["First of all, we need to clarify what a gateway ",(0,r.jsx)(n.em,{children:"usually"})," means. This distinction is critical for understanding ",(0,r.jsx)(n.strong,{children:"mcp control plane architecture"})," versus ",(0,r.jsx)(n.strong,{children:"mcp data plane design"}),"."]}),"\n",(0,r.jsxs)(n.h3,{id:"a-registry-is-usually-control-plane",children:["A Registry is usually ",(0,r.jsx)(n.strong,{children:"control-plane"})]}),"\n",(0,r.jsx)(n.p,{children:"It answers questions like:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"What exists?"}),"\n",(0,r.jsx)(n.li,{children:"Where does it live?"}),"\n",(0,r.jsx)(n.li,{children:"What does it support?"}),"\n",(0,r.jsx)(n.li,{children:"Who owns it?"}),"\n",(0,r.jsx)(n.li,{children:"Is it verified?"}),"\n",(0,r.jsx)(n.li,{children:"Is it allowed?"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Think: ",(0,r.jsx)(n.strong,{children:"catalogs, metadata, governance, discovery"}),"."]}),"\n",(0,r.jsxs)(n.h3,{id:"a-gateway-is-usually-data-plane",children:["A Gateway is usually ",(0,r.jsx)(n.strong,{children:"data-plane"})]}),"\n",(0,r.jsx)(n.p,{children:"It answers questions like:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["I connect to ",(0,r.jsx)(n.em,{children:"one"})," endpoint"]}),"\n",(0,r.jsxs)(n.li,{children:["Traffic flows ",(0,r.jsx)(n.em,{children:"through"})," it"]}),"\n",(0,r.jsx)(n.li,{children:"It authenticates"}),"\n",(0,r.jsx)(n.li,{children:"It enforces policy"}),"\n",(0,r.jsx)(n.li,{children:"It rate-limits"}),"\n",(0,r.jsx)(n.li,{children:"It observes"}),"\n",(0,r.jsx)(n.li,{children:"It transforms"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Think: ",(0,r.jsx)(n.strong,{children:"proxying, routing, runtime enforcement"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Most gateway designs fail not because gateways are bad \u2014 ",(0,r.jsxs)(n.strong,{children:["but because they are asked to do ",(0,r.jsx)(n.em,{children:"everything"}),"."]})]}),"\n",(0,r.jsx)(n.h3,{id:"do-you-need-an-mcp-gateway",children:"Do you need an MCP Gateway?"}),"\n",(0,r.jsx)(n.p,{children:"The short answer is: often, no."}),"\n",(0,r.jsxs)(n.p,{children:["If your requirements involve centralized deep packet inspection (DPI), inline payload transformation, or legacy protocol translation, a gateway is necessary. However, for ",(0,r.jsx)(n.strong,{children:"secure mcp server discovery"}),", runtime governance, and revocation, a ",(0,r.jsx)(n.strong,{children:"Connect Authority"})," is more efficient."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Connect Authority vs Gateway"}),":\nA gateway intercepts and mediates data-plane traffic, introducing latency and a single point of failure. A Connect Authority mediates ",(0,r.jsx)(n.em,{children:"permissions"})," and ",(0,r.jsx)(n.em,{children:"discovery"})," in the control plane. By issuing ",(0,r.jsx)(n.strong,{children:"mcp connect descriptor"})," artifacts, it enables ",(0,r.jsx)(n.strong,{children:"mcp connection governance"})," without the heavy lift of inline proxying."]}),"\n",(0,r.jsx)(n.p,{children:"So the real architectural question becomes:"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:'Can we give the MCP Registry "gateway power" without making it a gateway?'})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:'Yes \u2014 if we redefine what "gateway" means.'}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"the-key-insight-connection-authority--traffic-proxy",children:"The key insight: connection authority \u2260 traffic proxy"}),"\n",(0,r.jsx)(n.p,{children:"Here's the mental flip:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.strong,{children:"gateway"})," doesn't need to see traffic to control ",(0,r.jsx)(n.em,{children:"who is allowed to connect"})]}),"\n",(0,r.jsx)(n.li,{children:"Runtime enforcement doesn't need to be centralized"}),"\n",(0,r.jsx)(n.li,{children:"Moderation doesn't need a proxy to be effective"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["What you actually want is ",(0,r.jsx)(n.strong,{children:"connect-time authority"}),", not a data-plane choke point."]}),"\n",(0,r.jsx)(n.p,{children:"In this model:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The Registry governs ",(0,r.jsx)(n.strong,{children:"who may connect"})]}),"\n",(0,r.jsxs)(n.li,{children:["The server enforces ",(0,r.jsx)(n.strong,{children:"what happens after"})]}),"\n",(0,r.jsxs)(n.li,{children:["The client performs ",(0,r.jsx)(n.strong,{children:"one extra, intentional step"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This is where the MCP Registry becomes something more subtle \u2014 and more powerful."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"the-registry-as-a-connection-resolver",children:"The Registry as a connection resolver"}),"\n",(0,r.jsxs)(n.p,{children:["Instead of proxying traffic, the Registry transforms into a ",(0,r.jsx)(n.strong,{children:"Connect Authority"}),". It becomes a control-plane gateway that facilitates ",(0,r.jsx)(n.strong,{children:"secure MCP server discovery"}),"."]}),"\n",(0,r.jsx)(n.p,{children:'Clients query the Registry to find verified servers ("discovery"). But before they can connect, they must request permission. This turns the Registry into a policy engine that answers one critical question:'}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:'"Are you allowed to connect to this server right now?"'})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If yes \u2192 it issues a signed proof (descriptor).\nIf no \u2192 the connection never starts."}),"\n",(0,r.jsxs)(n.p,{children:["This approach is comparable to ",(0,r.jsx)(n.strong,{children:"DNS + app store metadata"}),"\u2014but with enforcement capabilities."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"the-connect-descriptor-the-boarding-pass",children:'The Connect Descriptor (the "boarding pass")'}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Boarding Pass",src:i(8602).A+"",width:"1536",height:"1024"})}),"\n",(0,r.jsx)(n.p,{children:"This is the missing primitive."}),"\n",(0,r.jsxs)(n.p,{children:["A ",(0,r.jsx)(n.strong,{children:"Connect Descriptor"})," is a:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"short-lived"}),"\n",(0,r.jsx)(n.li,{children:"signed"}),"\n",(0,r.jsx)(n.li,{children:"connect-time token"}),"\n",(0,r.jsx)(n.li,{children:"issued by the Registry"}),"\n",(0,r.jsx)(n.li,{children:"consumed by the client"}),"\n",(0,r.jsx)(n.li,{children:"validated by the server"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"It contains:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["the ",(0,r.jsx)(n.strong,{children:"actual server endpoint"})]}),"\n",(0,r.jsxs)(n.li,{children:["the ",(0,r.jsx)(n.strong,{children:"transport"})," (streamable HTTP only)"]}),"\n",(0,r.jsxs)(n.li,{children:["the ",(0,r.jsx)(n.strong,{children:"server identity"})]}),"\n",(0,r.jsxs)(n.li,{children:["an ",(0,r.jsx)(n.strong,{children:"expiration window"})]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"think-boarding-pass-not-passport",children:["Think: ",(0,r.jsx)(n.em,{children:"boarding pass"}),", not ",(0,r.jsx)(n.em,{children:"passport"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"It doesn't identify the user"}),"\n",(0,r.jsx)(n.li,{children:"It doesn't authorize tool usage"}),"\n",(0,r.jsx)(n.li,{children:"It doesn't replace authentication"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"It simply says:"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:'"You are allowed to attempt a connection to this server right now."'})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"That's it."}),"\n",(0,r.jsx)(n.p,{children:"And that's enough."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"why-this-extra-client-step-matters-and-why-its-intentional",children:"Why this extra client step matters (and why it's intentional)"}),"\n",(0,r.jsx)(n.p,{children:"Yes \u2014 this introduces an extra step for clients."}),"\n",(0,r.jsx)(n.p,{children:"And that's the entire point."}),"\n",(0,r.jsx)(n.h3,{id:"old-model-direct-connect",children:"Old model (direct connect)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Client \u2192 Server URL \u2192 Tools\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Fast"}),"\n",(0,r.jsx)(n.li,{children:"Simple"}),"\n",(0,r.jsx)(n.li,{children:"Ungoverned"}),"\n",(0,r.jsx)(n.li,{children:"Irrevocable"}),"\n",(0,r.jsx)(n.li,{children:"No verification boundary"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"But we already know the risks of this model:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"unverifiable endpoints"}),"\n",(0,r.jsx)(n.li,{children:"unmoderatable servers"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"If security and governance matter, this model falls short."})}),"\n",(0,r.jsx)(n.h3,{id:"new-model-governed-connect",children:"New model (governed connect)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Client \u2192 Registry \u2192 Descriptor \u2192 Server URL \u2192 Tools\n"})}),"\n",(0,r.jsx)(n.p,{children:"That one hop unlocks:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"runtime-effective moderation"}),"\n",(0,r.jsx)(n.li,{children:"revocation without proxies"}),"\n",(0,r.jsx)(n.li,{children:"endpoint integrity"}),"\n",(0,r.jsx)(n.li,{children:"server identity pinning"}),"\n",(0,r.jsx)(n.li,{children:"version & transport guarantees"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Clients that skip this step ",(0,r.jsx)(n.em,{children:"can still connect"})," \u2014 but they explicitly opt out of governance."]}),"\n",(0,r.jsx)(n.p,{children:"This mirrors OAuth perfectly:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You can skip OAuth"}),"\n",(0,r.jsx)(n.li,{children:"You just lose its guarantees"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"why-streamable-http-only-changes-everything",children:"Why streamable HTTP only changes everything"}),"\n",(0,r.jsxs)(n.p,{children:["This model works ",(0,r.jsx)(n.strong,{children:"because"})," we constrain transport."]}),"\n",(0,r.jsxs)(n.p,{children:["By supporting ",(0,r.jsx)(n.strong,{children:"remote, streamable HTTP only"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No stdio bridging"}),"\n",(0,r.jsx)(n.li,{children:"No local process trust"}),"\n",(0,r.jsx)(n.li,{children:"No transport ambiguity"}),"\n",(0,r.jsx)(n.li,{children:"No hidden execution contexts"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Every MCP server is:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"already running"}),"\n",(0,r.jsx)(n.li,{children:"already reachable"}),"\n",(0,r.jsx)(n.li,{children:"already enforcing policy"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["That's where ",(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.a,{href:"https://hapi.mcp.com.ai",children:"HAPI MCP"})," Servers"]})," come in."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"distributed-enforcement-mcp-why-hapi-makes-this-viable",children:"Distributed enforcement MCP: why HAPI makes this viable"}),"\n",(0,r.jsx)(n.p,{children:"The Registry doesn't enforce runtime security directly\u2014and that is a feature, not a bug."}),"\n",(0,r.jsxs)(n.p,{children:["This aligns perfectly with a ",(0,r.jsx)(n.strong,{children:"Zero Trust MCP architecture"}),". In a Zero Trust model, we never trust an endpoint based solely on network location. Instead, we require a valid, short-lived ",(0,r.jsx)(n.strong,{children:"mcp connect descriptor"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Because ",(0,r.jsx)(n.strong,{children:"HAPI MCP Servers"})," act as the data-plane enforcement points, they handle:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"authentication termination"}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"rate limiting"}),"\n",(0,r.jsx)(n.li,{children:"observability"}),"\n",(0,r.jsx)(n.li,{children:"token mediation / exchange"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["This lets us distribute enforcement ",(0,r.jsx)(n.em,{children:"to the edge"}),". The Registry decides ",(0,r.jsx)(n.strong,{children:"if a connection may exist"}),", while the HAPI server decides ",(0,r.jsx)(n.strong,{children:"what happens inside that connection"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"No proxy needed."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"mcp-governance-without-a-gateway",children:"MCP Governance Without a Gateway"}),"\n",(0,r.jsx)(n.h3,{id:"making-moderation-runtime-effective",children:"Making moderation runtime-effective"}),"\n",(0,r.jsx)(n.p,{children:"Here's the critical trick:"}),"\n",(0,r.jsx)(n.h3,{id:"stop-issuing-descriptors",children:"Stop issuing descriptors."}),"\n",(0,r.jsx)(n.p,{children:"That's it."}),"\n",(0,r.jsx)(n.p,{children:"If a server is revoked or moderated out:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"the Registry refuses to issue new Connect Descriptors"}),"\n",(0,r.jsx)(n.li,{children:"well-behaved clients cannot connect"}),"\n",(0,r.jsx)(n.li,{children:"no traffic flows"}),"\n",(0,r.jsx)(n.li,{children:"no proxy is involved"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Want stronger enforcement?"}),"\n",(0,r.jsx)(n.h3,{id:"descriptor-refresh-hard-cutoff",children:"Descriptor refresh (hard cutoff)"}),"\n",(0,r.jsx)(n.p,{children:"Descriptors are short-lived (configurable TTL, e.g. 30-120s)."}),"\n",(0,r.jsx)(n.p,{children:"HAPI can require clients to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"refresh the descriptor periodically"}),"\n",(0,r.jsx)(n.li,{children:"fail the session if refresh fails"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Now moderation becomes ",(0,r.jsx)(n.strong,{children:"hard runtime shutoff"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"revoke server"}),"\n",(0,r.jsx)(n.li,{children:"no new descriptors"}),"\n",(0,r.jsx)(n.li,{children:"active sessions expire naturally"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Still no gateway."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"what-this-architecture-avoids-by-design",children:"What this architecture avoids (by design)"}),"\n",(0,r.jsxs)(n.p,{children:["This is what we ",(0,r.jsx)(n.em,{children:"intentionally"})," don't do:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No central proxy"}),"\n",(0,r.jsx)(n.li,{children:"No data-plane bottleneck"}),"\n",(0,r.jsx)(n.li,{children:"No secrets stored in the Registry"}),"\n",(0,r.jsx)(n.li,{children:"No traffic inspection"}),"\n",(0,r.jsx)(n.li,{children:"No latency tax"}),"\n",(0,r.jsx)(n.li,{children:"No single point of failure"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The Registry stays:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"scalable"}),"\n",(0,r.jsx)(n.li,{children:"safe"}),"\n",(0,r.jsx)(n.li,{children:"boring (in a good way)"}),"\n",(0,r.jsx)(n.li,{children:"reliable"}),"\n",(0,r.jsx)(n.li,{children:"trustworthy"}),"\n",(0,r.jsx)(n.li,{children:"low-risk"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"the-full-flow-putting-it-all-together",children:"The full flow (putting it all together)"}),"\n",(0,r.jsx)(n.mermaid,{value:'sequenceDiagram\n  title Registry-Powered Connect Authority (Streamable HTTP + HAPI Enforcement)\n\n  participant Client as "MCP Client<br/>(chatMCP)"\n  participant Registry as "MCP Registry<br/>(Connect Authority)"\n  participant HAPI as "HAPI MCP Server<br/>(Streamable HTTP)"\n  participant IdP as "IdP<br/>(OIDC / mTLS / OAuth)"\n\n  %% Discovery\n  Client->>Registry: GET /v1/servers?query=payments\n  Registry--\x3e>Client: Server metadata<br/>(id, version, endpoint, verified, jwks_uri)\n\n  %% Connect Descriptor issuance\n  Client->>Registry: POST /v1/connect<br/>{ server_ref, client_id, tenant_id }\n  alt Server revoked / unverified / policy-blocked\n    Registry--\x3e>Client: 403 Error<br/>(server_revoked/server_unverified)\n  else Eligible\n    Registry->>Registry: (optional) Health check endpoint\n    Registry->>Registry: Mint short-lived JWT descriptor<br/>(TTL 30-120s)\n    Registry--\x3e>Client: 200 { descriptor, endpoint, expires_in }\n  end\n\n  %% Direct connect to HAPI (no proxy)\n  Client->>HAPI: GET /mcp (streamable)<br/>Headers:<br/>MCP-Connect: <descriptor><br/>Authorization: Bearer <user_token> (or mTLS)\n\n  %% HAPI validates Connect Descriptor\n  HAPI->>Registry: GET /.well-known/jwks.json (or cached)\n  Registry--\x3e>HAPI: Registry JWKS (public keys)\n  HAPI->>HAPI: Verify descriptor signature, exp, aud, server_id match\n  alt Descriptor invalid/expired\n    HAPI--\x3e>Client: 401/403 Descriptor rejected<br/>(descriptor_invalid/expired)\n  else Descriptor valid\n    %% HAPI terminates user auth\n    HAPI->>IdP: Validate user token / mTLS / OBO exchange\n    IdP--\x3e>HAPI: OK + claims/scopes\n\n    %% Runtime enforcement (HAPI)\n    HAPI->>HAPI: Apply policy (RBAC), rate limits, observability (trace/log/metrics)\n\n    %% MCP session\n    HAPI--\x3e>Client: 200 Stream opened (SSE/HTTP streaming)\n    Client->>HAPI: MCP tool call(s)\n    HAPI--\x3e>Client: Tool results streamed\n  end'}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Client discovers a server in the Registry"}),"\n",(0,r.jsx)(n.li,{children:"Client requests a Connect Descriptor"}),"\n",(0,r.jsx)(n.li,{children:"Registry checks verification, moderation, compatibility"}),"\n",(0,r.jsx)(n.li,{children:"Registry issues a short-lived descriptor"}),"\n",(0,r.jsx)(n.li,{children:"Client extracts the endpoint from the descriptor"}),"\n",(0,r.jsxs)(n.li,{children:["Client connects ",(0,r.jsx)(n.strong,{children:"directly"})," to the HAPI server"]}),"\n",(0,r.jsx)(n.li,{children:"HAPI validates the descriptor"}),"\n",(0,r.jsx)(n.li,{children:"HAPI authenticates the user"}),"\n",(0,r.jsx)(n.li,{children:"HAPI enforces policy and executes tools"}),"\n",(0,r.jsx)(n.li,{children:"Descriptor refresh keeps governance live"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Discovery is centralized.",(0,r.jsx)(n.br,{}),"\n","Enforcement is distributed.",(0,r.jsx)(n.br,{}),"\n","Connections are governed."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"why-this-scales-technically-and-socially",children:"Why this scales (technically and socially)"}),"\n",(0,r.jsx)(n.p,{children:"Technically:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"no proxy bottlenecks"}),"\n",(0,r.jsx)(n.li,{children:"no hot path in the Registry"}),"\n",(0,r.jsx)(n.li,{children:"horizontal scalability"}),"\n",(0,r.jsx)(n.li,{children:"zero trust friendly"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Socially:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"communities can build clients incrementally"}),"\n",(0,r.jsx)(n.li,{children:"enterprises get governance without lock-in"}),"\n",(0,r.jsx)(n.li,{children:"server authors keep autonomy"}),"\n",(0,r.jsx)(n.li,{children:"moderation has real impact"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"the-final-takeaway",children:"The final takeaway"}),"\n",(0,r.jsx)(n.p,{children:"You don't turn the MCP Registry into a gateway by adding more features."}),"\n",(0,r.jsxs)(n.p,{children:["You do it by ",(0,r.jsx)(n.strong,{children:"not turning it into one at all"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["By making it a ",(0,r.jsx)(n.strong,{children:"connection authority"}),", you get:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"gateway-level control"}),"\n",(0,r.jsx)(n.li,{children:"without gateway-level risk"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"And that's the difference between a system that scales \u2014 and one that collapses under its own ambition."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:"Be HAPI"}),", and stay tuned for more MCP architecture deep dives. Go Rebels! \u270a\ud83c\udffc"]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var t=i(6540);const r={},s=t.createContext(r);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(s.Provider,{value:n},e.children)}},8602:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/mcp-beyond-gateway-31b8292e5afd139c1329f8435a803fb6.png"},8849:e=>{e.exports=JSON.parse('{"permalink":"/mcp-registry-connect-authority/beyond-mcp-gateways","source":"@site/blog/mcp-registry-connect-authority/beyond-mcp-gateways.mdx","title":"MCP Registry vs Gateway: Why Connect Authority Wins","description":"Explore the differences between MCP Registries and Gateways, and understand why a Connect Authority is the superior choice for enabling secure, scalable MCP connections without a gateway.","date":"2026-01-12T02:55:49.000Z","tags":[{"inline":false,"label":"MCP","permalink":"/tags/mcp","description":"MCP is an open protocol for connecting LLM apps to external data sources and tools, enabling seamless integration and interoperability.\\n"},{"inline":false,"label":"Architecture","permalink":"/tags/architecture","description":"The structural design and organization of systems, components, and their interactions within a software or hardware environment.\\n"},{"inline":false,"label":"MCP Connect Authority","permalink":"/tags/mcp-connect-authority","description":"A Connect Authority is a trusted entity that issues connection credentials and governs access to services, enabling secure and authorized connections.\\n"}],"readingTime":9.19,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"MCP Registry vs Gateway: Why Connect Authority Wins","description":"Explore the differences between MCP Registries and Gateways, and understand why a Connect Authority is the superior choice for enabling secure, scalable MCP connections without a gateway.","tags":["mcp","architecture","connect-authority"],"keywords":["mcp","registry","gateway","connect authority","hapi","architecture","mcp-registry"],"image":"/img/mcp-connect-authority/mcp-beyond-gateway.png"},"unlisted":false,"prevItem":{"title":"The MCP Connect Authority: A Zero Trust Architecture for AI","permalink":"/mcp-registry-connect-authority"},"nextItem":{"title":"Why a Registry + Connect Authority Beats a Gateway","permalink":"/mcp-registry-connect-authority/why-a-registry+connect-authority-beats-a-gateway"}}')}}]);