"use strict";(self.webpackChunkmcp_ai=self.webpackChunkmcp_ai||[]).push([[7287],{8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var t=s(6540);const l={},r=t.createContext(l);function i(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),t.createElement(r.Provider,{value:n},e.children)}},9437:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>c});var t=s(9709),l=s(4848),r=s(8453);const i={title:"How to Deploy MCP Servers",description:"A step-by-step guide to deploying MCP servers using HAPI CLI.",tags:["guide"],keywords:["MCP deployment","HAPI CLI","Cloudflare Workers","Docker","Fly.io"],image:"/img/university/deploy-mcp-server.png"},o=void 0,a={authorsImageUrls:[]},c=[{value:"1. Local Development (The Quickest Way)",id:"1-local-development-the-quickest-way",level:2},{value:"What&#39;s happening here?",id:"whats-happening-here",level:3},{value:"2. Docker Containers (The Portable Way)",id:"2-docker-containers-the-portable-way",level:2},{value:"Breakdown:",id:"breakdown",level:3},{value:"3. Cloudflare Workers (The Scalable Way)",id:"3-cloudflare-workers-the-scalable-way",level:2},{value:"Why Cloudflare Workers?",id:"why-cloudflare-workers",level:3},{value:"4. Fly.io (The Global Way)",id:"4-flyio-the-global-way",level:2},{value:"Why Fly.io?",id:"why-flyio",level:3},{value:"Agent Skills to Automate Deployment",id:"agent-skills-to-automate-deployment",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:["Setting up a ",(0,l.jsx)(n.strong,{children:"Model Context Protocol (MCP)"})," server is easier than you might think! It is a straightforward process that doesn't require extensive DevOps skills. Whether you're testing, packaging, or scaling globally, the ",(0,l.jsx)(n.strong,{children:"HAPI MCP Stack"})," equips you with everything you need to launch your server in just seconds."]}),"\n",(0,l.jsxs)(n.p,{children:["In this guide, we'll explore ",(0,l.jsx)(n.strong,{children:"4 different ways"})," to run and deploy MCP servers using the HAPI CLI."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Bonus:"})," Agent Skills provided to automate MCP server deployment."]}),"\n",(0,l.jsx)(n.h2,{id:"1-local-development-the-quickest-way",children:"1. Local Development (The Quickest Way)"}),"\n",(0,l.jsx)(n.p,{children:"For rapid iteration and testing, running your MCP server locally is the best approach. You can instantly spin up a server and inspect its tools using the official MCP Inspector."}),"\n",(0,l.jsxs)(n.p,{children:["In this example, we'll run an ",(0,l.jsx)(n.strong,{children:"OpenAI Tools"})," server."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Run the MCP Server Locally and pipe to Inspector\nhapi serve openai-tools \\\n  --headless \\\n  --port 3030 \\\n  --url https://api.openai.com/v1 | bunx @modelcontextprotocol/inspector\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Find more MCP server definitions in the official ",(0,l.jsx)(n.a,{href:"https://registry.modelcontextprotocol.io/?q=ai.com.mcp",children:"MCP Registry"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"whats-happening-here",children:"What's happening here?"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"hapi serve"}),": Starts the MCP server."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--headless"}),": Runs without a UI (optimized for machine interaction)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--port 3030"}),": Binds the server to port 3030."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"| bunx @modelcontextprotocol/inspector"}),": Pipes the output directly to the MCP Inspector, allowing you to interact with your tools in a web interface locally."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"2-docker-containers-the-portable-way",children:"2. Docker Containers (The Portable Way)"}),"\n",(0,l.jsxs)(n.p,{children:["If you need to ship your server to Kubernetes, ECS, or any container orchestration platform, Docker is the industry standard. We provide a pre-built image ",(0,l.jsx)(n.code,{children:"hapimcp/hapi-cli"})," that is ready to serve."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker run --name hapi-openai -d \\\n  -p 3030:3030 \\\n  hapimcp/hapi-cli:latest serve \\\n  --openapi https://docs.mcp.com.ai/servers-apis/openapi/openai-tools.yaml \\\n  --headless \\\n  --url https://api.openai.com/v1\n"})}),"\n",(0,l.jsx)(n.h3,{id:"breakdown",children:"Breakdown:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"hapimcp/hapi-cli:latest"}),": The official HAPI CLI Docker image."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--openapi ..."}),": Specifies the OpenAPI definition for the server (defining the tools/resources)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-p 3030:3030"}),": Maps the container port to your host."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Your server is now running in a container, ready to accept connections on port 3030!"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"3-cloudflare-workers-the-scalable-way",children:"3. Cloudflare Workers (The Scalable Way)"}),"\n",(0,l.jsxs)(n.p,{children:["For a serverless solution with global low latency, ",(0,l.jsx)(n.strong,{children:"Cloudflare Workers"})," is the ultimate deployment target. HAPI CLI handles the entire build and deployment process for you."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"hapi deploy --name openai-tools \\\n  --project openai \\\n  --openapi https://docs.mcp.com.ai/servers-apis/openapi/openai-tools.yaml \\\n  --url https://api.openai.com/v1\n"})}),"\n",(0,l.jsx)(n.p,{children:"You'll see output like this:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"\ud83d\udcdd Generating temporary Wrangler config...\n\u2699\ufe0f Deploying to Cloudflare Workers...\n\ud83c\udf0d Live at: https://openai-tools.runmcp.workers.dev\n\u2705 Deployed successfully!\n"})}),"\n",(0,l.jsx)(n.h3,{id:"why-cloudflare-workers",children:"Why Cloudflare Workers?"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Zero Cold Starts:"})," Instant response times."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Global Distribution:"})," Deployed to 300+ cities worldwide."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Cost Effective:"})," Pay only for what you use."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"4-flyio-the-global-way",children:"4. Fly.io (The Global Way)"}),"\n",(0,l.jsxs)(n.p,{children:["For those who prefer running on ",(0,l.jsx)(n.strong,{children:"Fly.io"}),", you can deploy your MCP server instantly using our pre-built image, bypassing the need for Dockerfiles or complex overrides."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'fly machine run hapimcp/hapi-cli:latest --command "hapi serve" \\\n  -e openapi="https://docs.mcp.com.ai/servers-apis/openapi/openai-tools.yaml" \\\n  -e url="https://api.openai.com/v1"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"why-flyio",children:"Why Fly.io?"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Instant Machines:"})," Boot full VM instances in milliseconds."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Global Anycast:"})," Run close to your users."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Pre-built Image:"})," No build step required\u2014just run."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"agent-skills-to-automate-deployment",children:"Agent Skills to Automate Deployment"}),"\n",(0,l.jsxs)(n.p,{children:["To make deployment even easier, we provide ",(0,l.jsx)(n.strong,{children:"Agent Skills"})," that automate the entire process of deploying MCP servers across different platforms. You can find this and more skills in the ",(0,l.jsx)(n.a,{href:"https://skills.sh/?q=mcp-com-ai",children:"mcp.com.ai skills registry"}),"."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npx skills add https://github.com/mcp-com-ai/api-to-mcp-skills --skill api-to-mcp\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Method"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Best For"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Requirement"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"Local"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Development, Testing, Debugging"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"HAPI CLI"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"Docker"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Enterprise, Kubernetes, VPS"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Docker Engine"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"Workers"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Serverless, Scaling, Public APIs"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Cloudflare Account"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"Fly.io"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Global VMs, Persistent Apps"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Fly.io Account"})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:["Ready to build your own? Check out the full documentation at ",(0,l.jsx)(n.a,{href:"https://docs.mcp.com.ai",children:"docs.mcp.com.ai"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["\ud83c\udfc1 ",(0,l.jsx)(n.strong,{children:"Done. Be HAPI, and go Rebels! \u270a"})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},9709:e=>{e.exports=JSON.parse('{"permalink":"/university/deploy-mcp-server-in-seconds","source":"@site/blog/university/deploy-mcp-server-in-seconds.mdx","title":"How to Deploy MCP Servers","description":"A step-by-step guide to deploying MCP servers using HAPI CLI.","date":"2026-01-27T10:08:04.000Z","tags":[{"inline":false,"label":"Guide","permalink":"/tags/guide","description":"Curated instructions or documentation designed to help users understand and implement specific use cases around MCP and related technologies.\\n"}],"readingTime":3.1,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"How to Deploy MCP Servers","description":"A step-by-step guide to deploying MCP servers using HAPI CLI.","tags":["guide"],"keywords":["MCP deployment","HAPI CLI","Cloudflare Workers","Docker","Fly.io"],"image":"/img/university/deploy-mcp-server.png"},"unlisted":false,"prevItem":{"title":"Mastering Skills: Your Gateway to Enhanced AI Capabilities","permalink":"/skills"},"nextItem":{"title":"MCP at Scale: Engineering the Future of AI Platforms","permalink":"/mcp-at-scale"}}')}}]);