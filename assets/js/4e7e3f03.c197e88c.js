"use strict";(self.webpackChunkmcp_ai=self.webpackChunkmcp_ai||[]).push([[7914],{5546:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var r=t(7645),i=t(4848),a=t(8453),s=t(9487);const o={title:"Using OpenAI Response API for MCP Integration",description:"A step-by-step guide to integrating OpenAI's Response API with Model Context Protocol (MCP) using HAPI Server.",tags:["mcp","openai","api-first","llm","guide","ai-integration"],keywords:["MCP","Model Context Protocol","OpenAI Response API","HAPI Server","API Integration","LLMs","Taco Ordering System","Postman AI Agent"],image:"https://images.unsplash.com/photo-1676299081847-824916de030a?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170",authors:["adrian"]},l=void 0,c={authorsImageUrls:[void 0]},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Generate an API Using Postman Agent",id:"step-1-generate-an-api-using-postman-agent",level:2},{value:"Step 2: Start an MCP Server Using HAPI Server",id:"step-2-start-an-mcp-server-using-hapi-server",level:2},{value:"Step 3: Connect ChatGPT or Another Client to the MCP Server",id:"step-3-connect-chatgpt-or-another-client-to-the-mcp-server",level:2},{value:"Step 4: Test the MCP Server With OpenAI SDK",id:"step-4-test-the-mcp-server-with-openai-sdk",level:2},{value:"Step 5: Place an Order Through the API",id:"step-5-place-an-order-through-the-api",level:2},{value:"Demo Video",id:"demo-video",level:2},{value:"Conclusion",id:"conclusion",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["This guide demonstrates how to use the ",(0,i.jsx)(n.strong,{children:"OpenAI Response API"})," to integrate with the ",(0,i.jsx)(n.strong,{children:"Model Context Protocol (MCP)"})," for seamless, AI-driven API interactions.\nYou will learn how to generate a REST API specification with Postman's AI Agent, deploy it as an ",(0,i.jsx)(n.strong,{children:"MCP server using HAPI Server"}),", and connect it through OpenAI's ",(0,i.jsx)(n.strong,{children:"Response API"})," for testing."]}),"\n",(0,i.jsxs)(n.p,{children:["The goal of this demo is to show how OpenAI's new ",(0,i.jsx)(n.strong,{children:"Tools and Connectors for MCP"}),' feature simplifies integration between large language models and your APIs, making it possible to interact with services such as a "Taco Ordering System" directly from an LLM client like ChatGPT or a Bun-based application.']}),"\n",(0,i.jsx)(n.p,{children:"By the end of this guide, you will have a working MCP server derived from a Swagger specification, exposed via ngrok, and connected to the OpenAI Response API for end-to-end interaction testing."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(n.p,{children:"Before you begin:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install the following tools:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://bun.sh/",children:"Bun"})," \u2013 A fast JavaScript runtime for modern apps.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Alternatively, you can use Node.js if preferred."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://ngrok.com/",children:"ngrok"})," \u2013 To expose your local server to the internet."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://hapi.mcp.com.ai",children:"HAPI Server"})," \u2013 To host your MCP server."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/openai",children:"OpenAI SDK"})," \u2013 For client testing."]}),"\n",(0,i.jsxs)(n.li,{children:["Obtain or install ",(0,i.jsx)(n.strong,{children:"Postman Desktop Agent"})," to generate APIs using AI.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Alternatively, you can ask ",(0,i.jsx)(n.strong,{children:"ChatGPT"})," to generate a Swagger specification (v3)."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"The example below uses a local environment and ngrok for simplicity, but you can deploy your server on any cloud instance or containerized environment."})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"step-1-generate-an-api-using-postman-agent",children:"Step 1: Generate an API Using Postman Agent"}),"\n",(0,i.jsx)(n.p,{children:"You can use Postman's AI Agent to quickly generate an API for any use case.\nIn this example, you will create a simple Taco Ordering System."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Open Postman's AI Agent and prompt:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Generate an API for a Taco ordering system with endpoints to view tacos and place an order.\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"The agent returns a Swagger (OpenAPI) specification for your taco API."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Review the generated specification to confirm it includes paths for:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"GET /tacos"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"POST /order"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Save the file in your ",(0,i.jsx)(n.code,{children:"HAPI_HOME/specs"})," directory as ",(0,i.jsx)(n.code,{children:"tacos.yaml"})," for use in the next step. (JSON format is also acceptable.)"]})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"step-2-start-an-mcp-server-using-hapi-server",children:"Step 2: Start an MCP Server Using HAPI Server"}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.a,{href:"https://hapi.mcp.com.ai",children:"HAPI Server"})," to host your Swagger API as an MCP server. This allows LLM-based clients such as ChatGPT to call your API directly."]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Connect to your instance and run the following command to start the MCP server:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bunx @la-rebelion/hapimcp serve tacos --headless --chatgpt\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Alternatively, you can use the native CLI (download from ",(0,i.jsx)(n.a,{href:"https://github.com/la-rebelion/hapimcp/releases",children:"GitHub releases"}),") and run:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"hapi serve tacos --headless --chatgpt\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Once running, expose the local server to the internet using ngrok:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ngrok http 8000\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Copy the public URL generated by ngrok (e.g., ",(0,i.jsx)(n.code,{children:"https://abcd1234.ngrok.io"}),")."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"step-3-connect-chatgpt-or-another-client-to-the-mcp-server",children:"Step 3: Connect ChatGPT or Another Client to the MCP Server"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Open ChatGPT's settings and add a new connector with the ngrok URL you copied earlier."}),"\n",(0,i.jsxs)(n.li,{children:["Enable the connector.\nIf the feature is not visible, note that ",(0,i.jsx)(n.strong,{children:"MCP connectors"})," in ChatGPT may still be in ",(0,i.jsx)(n.strong,{children:"beta"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Alternatively, you can connect directly from an MCP-compatible client using the OpenAI SDK."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"step-4-test-the-mcp-server-with-openai-sdk",children:"Step 4: Test the MCP Server With OpenAI SDK"}),"\n",(0,i.jsx)(n.p,{children:"You can test the endpoint by sending a prompt that interacts with your Taco API."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Initialize a new Bun project:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir taco-client && cd taco-client\nbun init\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install dependencies:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bun install openai\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Create an ",(0,i.jsx)(n.code,{children:"index.ts"})," file and configure your endpoint:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'import OpenAI from "openai";\n\nconst client = new OpenAI({\n  apiKey: process.env.OPENAI_API_KEY,\n  baseURL: "https://abcd1234.ngrok.io/v1"\n});\n\nconst response = await client.chat.completions.create({\n  model: "gpt-4.1",\n  messages: [{ role: "user", content: "What tacos do you have in the menu?" }]\n});\n\nconsole.log(response.choices[0].message);\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Run the client:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bun run index.ts\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"You should see a response such as:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'We have "carne asada" and "al pastor" tacos available.\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"step-5-place-an-order-through-the-api",children:"Step 5: Place an Order Through the API"}),"\n",(0,i.jsx)(n.p,{children:"Now that your MCP server is connected, you can test the ordering functionality."}),"\n",(0,i.jsx)(n.p,{children:"Run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bun run index.ts\n"})}),"\n",(0,i.jsx)(n.p,{children:"With the following request:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'messages: [\n  { role: "user", content: "Place an order for 2 tacos al pastor and 1 carne asada." }\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:"The client confirms your order:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Order placed successfully!  \nYou ordered 2 tacos al pastor and 1 carne asada.\n"})}),"\n",(0,i.jsx)(n.h2,{id:"demo-video",children:"Demo Video"}),"\n",(0,i.jsx)(s.A,{src:"https://youtu.be/C6tz7K2og6I",style:{width:"90%",height:"auto",aspectRatio:"4/3"},controls:!0}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsx)(n.p,{children:"You successfully:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Generated a Swagger API with Postman's AI Agent."}),"\n",(0,i.jsx)(n.li,{children:"Deployed it as an MCP server using HAPI Server."}),"\n",(0,i.jsx)(n.li,{children:"Exposed the service securely with ngrok."}),"\n",(0,i.jsx)(n.li,{children:"Connected and interacted with it using ChatGPT and Bun."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This setup allows you to prototype ",(0,i.jsx)(n.strong,{children:"API-first AI integrations"})," quickly. You can expand this demo to connect more endpoints or integrate it into a cluster for scalability."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["To continue exploring, deploy your HAPI MCP server on ",(0,i.jsx)(n.strong,{children:"cloud instances"})," or integrate it into your existing CI/CD pipeline for real-world workloads."]})}),"\n",(0,i.jsx)(n.p,{children:"Be HAPI, and go Rebels! \u270a\ud83c\udffd"})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},7645:e=>{e.exports=JSON.parse('{"permalink":"/use-openai-api-for-smooth-mcp-integration","source":"@site/blog/use-openai-api-for-smooth-mcp-integration.mdx","title":"Using OpenAI Response API for MCP Integration","description":"A step-by-step guide to integrating OpenAI\'s Response API with Model Context Protocol (MCP) using HAPI Server.","date":"2025-11-01T15:05:34.000Z","tags":[{"inline":false,"label":"MCP","permalink":"/tags/mcp","description":"MCP is an open protocol for connecting LLM apps to external data sources and tools, enabling seamless integration and interoperability.\\n"},{"inline":false,"label":"OpenAI","permalink":"/tags/openai","description":"OpenAI is an AI research and deployment company focused on ensuring that artificial general intelligence benefits all of humanity.\\n"},{"inline":false,"label":"API-First","permalink":"/tags/api-first","description":"API-First is a design approach that prioritizes the development of APIs before building the actual application, ensuring better integration and scalability.\\n"},{"inline":false,"label":"LLM","permalink":"/tags/llm","description":"Large Language Models (LLMs) are advanced AI models trained on vast text data to understand and generate human-like language.\\n"},{"inline":false,"label":"Guide","permalink":"/tags/guide","description":"Curated instructions or documentation designed to help users understand and implement specific use cases around MCP and related technologies.\\n"},{"inline":false,"label":"AI Integration","permalink":"/tags/ai-integration","description":"AI Integration involves incorporating artificial intelligence technologies into existing systems and workflows to enhance functionality and performance.\\n"}],"readingTime":4.12,"hasTruncateMarker":true,"authors":[{"name":"Adrian Escutia","title":"La Rebelion Founder","url":"https://adrian.escutia.me","page":{"permalink":"/authors/adrian"},"socials":{"x":"https://x.com/ades_mx","linkedin":"https://www.linkedin.com/in/adrianescutia/","github":"https://github.com/adrianescutia","newsletter":"https://rebelion.la"},"bio":"Adrian is the founder of La Rebelion, a newsletter about AI, technology, and the future. He is also a software engineer and entrepreneur.","imageURL":"https://github.com/adrianescutia.png","key":"adrian"}],"frontMatter":{"title":"Using OpenAI Response API for MCP Integration","description":"A step-by-step guide to integrating OpenAI\'s Response API with Model Context Protocol (MCP) using HAPI Server.","tags":["mcp","openai","api-first","llm","guide","ai-integration"],"keywords":["MCP","Model Context Protocol","OpenAI Response API","HAPI Server","API Integration","LLMs","Taco Ordering System","Postman AI Agent"],"image":"https://images.unsplash.com/photo-1676299081847-824916de030a?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170","authors":["adrian"]},"unlisted":false,"prevItem":{"title":"Composable Architectures and the Future of AI Integration: Why MCP Is the Missing Link","permalink":"/composable-architectures-and-the-future-of-ai-integration"},"nextItem":{"title":"MCP Threats and Misleadings - Prompt Injection","permalink":"/mcp-threats-prompt-injection"}}')},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var r=t(6540);const i={},a=r.createContext(i);function s(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(a.Provider,{value:n},e.children)}},9487:(e,n,t)=>{t.d(n,{A:()=>w});var r=t(6540);const i=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,a=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,s=/\.(m3u8)($|\?)/i,o=/\.(mpd)($|\?)/i,l=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,c=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,d=/vimeo\.com\/(?!progressive_redirect).+/,h=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,p=/open\.spotify\.com\/(\w+)\/(\w+)/i,u=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,m=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,g=(e,n)=>{if(Array.isArray(e)){for(const t of e){if("string"==typeof t&&g(t,n))return!0;if(g(t.src,n))return!0}return!1}return n(e)},x={html:e=>g(e,e=>i.test(e)||a.test(e)),hls:e=>g(e,e=>s.test(e)),dash:e=>g(e,e=>o.test(e)),mux:e=>l.test(e),youtube:e=>c.test(e),vimeo:e=>d.test(e)&&!a.test(e)&&!s.test(e),wistia:e=>h.test(e),spotify:e=>p.test(e),twitch:e=>u.test(e),tiktok:e=>m.test(e)};var y=r.forwardRef((e,n)=>{const t=i.test(`${e.src}`)?"audio":"video";return r.createElement(t,{...e,ref:n},e.children)});var f=[{key:"hls",name:"hls.js",canPlay:x.hls,canEnablePIP:()=>!0,player:(0,r.lazy)(()=>Promise.all([t.e(9758),t.e(4945),t.e(2262)]).then(t.bind(t,1833)))},{key:"dash",name:"dash.js",canPlay:x.dash,canEnablePIP:()=>!0,player:(0,r.lazy)(()=>Promise.all([t.e(9758),t.e(6395)]).then(t.bind(t,9380)))},{key:"mux",name:"Mux",canPlay:x.mux,canEnablePIP:()=>!0,player:(0,r.lazy)(()=>Promise.all([t.e(9758),t.e(4945),t.e(2723)]).then(t.bind(t,1933)))},{key:"youtube",name:"YouTube",canPlay:x.youtube,player:(0,r.lazy)(()=>t.e(8446).then(t.bind(t,126)))},{key:"vimeo",name:"Vimeo",canPlay:x.vimeo,player:(0,r.lazy)(()=>t.e(6173).then(t.bind(t,9301)))},{key:"wistia",name:"Wistia",canPlay:x.wistia,canEnablePIP:()=>!0,player:(0,r.lazy)(()=>t.e(9340).then(t.bind(t,9971)))},{key:"spotify",name:"Spotify",canPlay:x.spotify,canEnablePIP:()=>!1,player:(0,r.lazy)(()=>t.e(2771).then(t.bind(t,9422)))},{key:"twitch",name:"Twitch",canPlay:x.twitch,canEnablePIP:()=>!1,player:(0,r.lazy)(()=>t.e(2042).then(t.bind(t,5946)))},{key:"tiktok",name:"TikTok",canPlay:x.tiktok,canEnablePIP:()=>!1,player:(0,r.lazy)(()=>t.e(8085).then(t.bind(t,3173)))},{key:"html",name:"html",canPlay:x.html,canEnablePIP:()=>!0,player:y}];const P={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},j=r.forwardRef((e,n)=>{const{playing:t,pip:i}=e,a=e.activePlayer,s=(0,r.useRef)(null),o=(0,r.useRef)(!0);(0,r.useEffect)(()=>{var n,r;s.current&&(s.current.paused&&!0===t&&s.current.play(),s.current.paused||!1!==t||s.current.pause(),s.current.playbackRate=null!=(n=e.playbackRate)?n:1,s.current.volume=null!=(r=e.volume)?r:1)}),(0,r.useEffect)(()=>{var e,n,t,r,a;if(s.current&&globalThis.document){if(i&&!document.pictureInPictureElement)try{null==(n=(e=s.current).requestPictureInPicture)||n.call(e)}catch(o){}if(!i&&document.pictureInPictureElement)try{null==(r=(t=s.current).exitPictureInPicture)||r.call(t),null==(a=document.exitPictureInPicture)||a.call(document)}catch(o){}}},[i]);if(!a)return null;const l={},c=["onReady","onStart"];for(const r in e)r.startsWith("on")&&!c.includes(r)&&(l[r]=e[r]);return r.createElement(a,{...l,style:e.style,className:e.className,slot:e.slot,ref:(0,r.useCallback)(e=>{s.current=e,"function"==typeof n?n(e):null!==n&&(n.current=e)},[n]),src:e.src,crossOrigin:e.crossOrigin,preload:e.preload,controls:e.controls,muted:e.muted,autoPlay:e.autoPlay,loop:e.loop,playsInline:e.playsInline,config:e.config,onLoadStart:n=>{var t,r;o.current=!0,null==(t=e.onReady)||t.call(e),null==(r=e.onLoadStart)||r.call(e,n)},onPlay:n=>{var t,r;o.current&&(o.current=!1,null==(t=e.onStart)||t.call(e,n)),null==(r=e.onPlay)||r.call(e,n)}},e.children)});j.displayName="Player";var v=j;const b=(0,r.lazy)(()=>t.e(6353).then(t.bind(t,1924))),I=[],A=({children:e})=>e;var w=((e,n)=>{const t=r.forwardRef((t,i)=>{const a={...P,...t},{src:s,slot:o,className:l,style:c,width:d,height:h,fallback:p,wrapper:u}=a,[m,g]=(0,r.useState)(!!a.light);(0,r.useEffect)(()=>{a.light?g(!0):g(!1)},[a.light]);const x=e=>{var n;g(!1),null==(n=a.onClickPreview)||n.call(a,e)},y=null==u?A:u,f=!1===p?A:r.Suspense;return r.createElement(y,{slot:o,className:l,style:{width:d,height:h,...c}},r.createElement(f,{fallback:p},m?(e=>{if(!e)return null;const{light:n,playIcon:t,previewTabIndex:i,oEmbedUrl:s,previewAriaLabel:o}=a;return r.createElement(b,{src:e,light:n,playIcon:t,previewTabIndex:i,previewAriaLabel:o,oEmbedUrl:s,onClickPreview:x})})(s):(t=>{var s,c;const d=(t=>{for(const n of[...I,...e])if(t&&n.canPlay(t))return n;return n||null})(t);if(!d)return null;const{style:h,width:p,height:u,wrapper:m}=a,g=null==(s=a.config)?void 0:s[d.key];return r.createElement(v,{...a,ref:i,activePlayer:null!=(c=d.player)?c:d,slot:m?void 0:o,className:m?void 0:l,style:m?{display:"block",width:"100%",height:"100%"}:{display:"block",width:p,height:u,...h},config:g})})(s)))});return t.displayName="ReactPlayer",t.addCustomPlayer=e=>{I.push(e)},t.removeCustomPlayers=()=>{I.length=0},t.canPlay=n=>{if(n)for(const t of[...I,...e])if(t.canPlay(n))return!0;return!1},t.canEnablePIP=n=>{var t;if(n)for(const r of[...I,...e])if(r.canPlay(n)&&(null==(t=r.canEnablePIP)?void 0:t.call(r)))return!0;return!1},t})(f,f[f.length-1])}}]);